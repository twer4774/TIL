# Semaphore

- 기찻길의 깃발에서 유래된 말
- Critical Section에 들어갈지 말지를 알려줌
- lock의 경우 0,1의 값으로 판단
  - 세마포어의 경우 0, 1, 2,… 등 숫자가 늘어남 => 공유자원의 개수

### 종류

- 바이너리 세마포어
  - 0과 1을 갖는 세마포어
  - 1이면 비었으므로 입장가능, 0이면 입장 불가 => lock과 반대(0: 비었음, 1: 입장불가)

- 카운팅 세마포어
  - 0, 1, 2, 3, … 등 도메인이 제한 없는 세마포어
  - 자원이 몇개로 한정되었을때, 자원에 접근하는걸 컨트롤하는데 사용. 세마포어는 사용가능한 자원의 개수로 초기화됨
    - 공유할 수 있는 프린터가 3개라면, 초기값은 3이 됨
    - 누군가 프린터를 사용했다면 2로 줄어들고 계속 반복하여 값이 0이 되었을 때, 작업을 완료한 경우 1을 반환하여 다시 세마포어 값이 증가하게 됨

### 세마포어 접근함수 - wait(), signal()

- 자원의 사용과 반납을 위한 함수
- wait : 자원이 없을때 대기상태임을 표시
- signal : 자원이 있으면, signal로 자우너 사용을 허가


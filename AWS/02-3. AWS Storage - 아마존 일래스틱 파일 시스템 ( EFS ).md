# 02-3. AWS Storage - 아마존 일래스틱 파일 시스템 ( EFS )
- EC2 인스턴스를 위한 파일 시스템 인터페이스 및 파일 시스템 시맨틱 환경 제공
	- 시맨틱 환경 : 프로그래밍에서 시맨틱(Semantic)이란 코드 조각의 의미를 나타낸다. 이 코드는 화면에서 어떻게 보여질까?가 아닌 이 코드의 의미, 즉 역할은 무엇이며 기능은 무엇인가를 나타내는 것이다.
- EC2에 부착하면 로컬 파일 시스템처럼 동작한다.
- 공유 파일 시스템으로 다수의 인스턴를 위한 공통 파일 시스템 역할을 수행한다.
- 주요 속성
	- 완전 관리형 : 사용자는 파일 시스템에 필요한 H/W, S/W 구매 및 관리가 필요 없다.
	- 파일 시스템 액세스 시맨틱 : 일반적인 파일 시스템과 동일하게 사용된다.
		- 일기- 후 - 쓰기 일관성, 파일잠금, 계층적디렉토리 구조, 파일 조직 명령 등 작업이 가능하다.
	- 파일 시스템 인터페이스 : 표준 OS API와 호환성이 유지되는 파일 시스템 인터페이스 제공
	- 공유 파일 시스템 : 수천 개의 인터페이스와 연결할 수 있는 공유 파일 시스템
	- 민첩성 및 확장성 : PB 규모로 확장가능하며 파일시스템을 생성하여 데이터 크기에 맞게 자동으로 확대 및 축소가 가능하다.
	- 고성능 : 높은 일관성, 높은 처리성능, 높은 IOPS, 낮은 전송 지연율
		- IOPS: Input/Output Operation Per Second. 저장장치의 속도를 측정하는 단위
	- 고가용성 및 고신뢰성 : 리전 내 다수의 AZ에 자동복제 => 고강용성, 다중 AZ 접근성, 고신뢰성
- 간편성 제공 : 기존 도구 및 앱과는 호환성이 유지되며, NFS 프로토콜을 이용하므로 VPC를 통해 직접 연결이 가능하다.
- 민첩성 제공 : 파일 추가, 삭제에 따라 크기 자동 조정
- 확장성 제공 : 파일 시스템 크기에 따라 IOPS 자동 조절
	- 성능 일관성, 수천개의 NFS 동시 접속 대응 가능

## 아마존 EFS 활용하기
1. 파일 시스템 생성
	- 파일시스템
		- EFS의 파일 저장 및 디렉토리 관리를 위한 핵심 리소스
		- 계정당 최대 10개 생성가능. 서포트 티켓 구매로 수량 증가 가능
		- VPC에 있는 인스턴스에서 파일 시스템에 접근하려면 VPC에서 마운트 타깃을 생성한다.
2. 각 AZ에서 파일 시스템을 접근하는 마운트 타깃 생성
	- 마운트 타깃
		- VPC에 있는 NFS v4 종단점
		- 마운트 명령에 사용되는 IP, DNS 제공
		- 각 AZ마다 별도의 마운트 타깃 생성 필요
		- EC2 인스턴스에 부착된 EFS의 마운트 타깃에 접근하기 위한 파일 시스템의 DNS이름 사용
3. AWS SDK, AWS Manage Console, CLI를 이용하여 관리 가능
4. 파일 워크로드를 중심으로 병렬처리 및 고도의 처리성능이 요구되는 빅데이터 어플리케이션부터 처리 지연상황이 발생하지 않아야 할 싱글 스레드 워크로드 까지 방대한 성능예측 자료 제공 
5. 유전자 분석, 빅데이터 분석, 웹 서비스, 웹 사이트 디렉토리, 콘텐츠 관리, 미디어 송출 등 다양한 용도로 사용 가능하다.

## 온프레스미스 스토리지와 AWS 통합 : 데이터센터에서 클라우드로 대량의 데이터 전송 가능

## AWS 스토리지 게이트웨이 ( SGW ) : 기존 환경에 가상머신 형태로 배포
- 표준 스토리지 프로토콜 인터페이스를 제공하여 기존의 앱과 쉽게 연결 가능하다.
- 게이트웨이를 AWS에 연결하여 데이터를 S3 글레이셔에 안전하게 저장가능하다.
- 게이트웨이는 로컬캐시를 이용하며, Cloud Watch, Cloud Trail, IAM과의 통합이 가능하다.
- 세 가지 스토리지 인터페이스 제공
	- 파일 게이트웨이 : 파일은 S3 버킷에 객체로 저장한다.. NFS 마운트 포인트를 통해 접근 가능하다.
	- 볼륨 게이트웨이 : 디스크 볼륨, 스냅샷 생성
		- 캐시드 모드 : 프라이머리 데이터는 S3에 저장. 자주 사용하는 데이터는 로컬에 저장
		- 스토어드 모드 : 전체 데이터는 로컬에 저장, 비동기적 백업 데이터만 S3에 저장
	- 테이프 게이트웨이 : 가상 테이프 라이브러리 ( VTL ) 제공, 가상 테이프는 S3에 저장

## 스노우볼과 스노우 엣지
- 스노우볼 : PB 규모의 데이터 이전을 위한 Import/Export 도구
	- 최대 80TB 스토리지에 이전 가능
	- 스노우볼에 이전하기 전에 모든 데이터는 256-bit GSM으로 암호화 한다.
	- 스노우볼 디바이스 -> 고속 전용회선 -> S3
- 스노우볼 엣지 : 스노우볼 보다 많은 100TB 데이터 복제

## 스노우 모바일
- EB ( 엑사바이트 ) 규모의 데이터 Import/Export
- 스노우 모바일 인스터스는 최대 100PB 까지 데이터 이전 가능
- AWS에 요청 -> 직원이 고속 네트워크 스위치로 로컬 네트워크와 스노우 모바일 연결

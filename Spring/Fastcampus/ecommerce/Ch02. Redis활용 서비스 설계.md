## Usecase에 기반한 서비스 요구사항 정의
- Client가 요구하는 내용과 설명
- 요구사항은 단위 기능으로 뺄 수 있도록 정리
- Client와 요구사항을 맞출 수 있도록 문서화 필요
#### 명확한 요구사항 파악을 위해 실무 중 확인해야하는 정보, Background
- 이 서비스가 왜 개발되는 것인가
	- 메인화면에서 상품검색 시 가격별로 sorting하기 위해, 최저가 검색이라는 새로운 기능 런치 시 핵심 기능 -> 영향범위 파악, 확장성 고려
	- 이 서비스의 런칭 시점이 어떻게 되는가?
		- 개발 우선순위와 완성도에 영향
	- 이 서비스를 개발하기 위한 자원은 어떻게 확보되는가?(인적, 물적 자원)
		- 요청하는 부서에 투자, 내년 예산편입, 현재 유효한 서버, 인력 -> 일을 하기위해 피룡한 도구가 준비되어 있지 않으면 기간에 영향을 줌
	- 이 서비스의 주요 client가 어떻게 되는가 -> 요구사항 합의, 개발 현황 공유, Client Test, 런칭 후 모니터링, 장애 공유

#### 간단한 요구사항 정의
서비스명: 특정 상품의 최저가 검색
서비스 요구사항 정의
	- 요구사항명 : 최저가 반환
	- 요구사항 설명 : 상품명으로 상품을 검새갛여 최저가를 Return
	- 중요도 : 상 , 난이도 : 중
====> 위의 내용을 기반으로 추가적인 요구사항을 뽑아낸다.
- 상품명? 이라는 정의
- Char라면 명확한 상품명 입력이 가능한건가
- 상품의 ID를 준다는건가
- 한번에 하나씩 주는건지, 묶음으로 주는건지
- 상품의 keyword를 주는건지
- 최저가? 라는 정의
- 가격의 단위는 원단위까지 비교하는지
- 묶음 수량의 경우 단위별 계산이 필요한가
- 최저가 1개만 Return하면 되는건가
- 최저가를 묶음으로 전달한다면 몇개를 전달하는가
- 단순히 가격만 전달하는건지, seller나 상품의 추가정보를 기입해야하는지
- 최저가 묶음에 동일 상품이 있다면
- 배송비를 포함한 최저가를 검색해야하는가
========> 예제를 위한 요구사항 정리
- 키워드로 상품을 검색하여
- 중복없는 배송비 포함 최저가 10개를 전달
## Usecase에 기반한 서비스 품질 요건 정의
품질요건 = 해당 서비스가 갖추어야 하는 기능적, 기술적 요건
1. 가용성
- RTO(복구목표시간), RPO(복구지점목표), 장애, uptime
- Down이 발생하지 않게하는 것도 중요하지만, Down 발생 시 정상화 방안과 그에 따른 목표시간 수립 -> RTO(10분), RPO(120초)
1. 성능
- Ops/sec, TPS, DataIn/s, DataOut/s
1. 비용
- 얼마만큼의 자원을 사용하여 해당 기능을 구축할 것인가
2. 보안
- 정보의 탈취가능 여부, 노출 방지, 숨김, 다른 보안적 위협으로부터 자유로운지
3. 효율성
- 해당 서비스를 사용, 유지/보수, 수정, 배포, 폐기, 복사 등의 작업을 하는데에 대한 업무 효율성


## 서비스 논리 설계 for Redis
- 설계 요건과 자원
	- Keyword로 input이 온다.
	- prodGrp별 prodId와 price를 반환한다.
	- prodGrp을 10개 * prodGrp별 10개 {prodId, price} 반환 => 총 100개 
		- ex) 이어폰 keyword 검색 시
			- [dovmfdpdjvkt2:[{공식에어팟:249000},{롯데백화점...},{}]],
- 논리적 흐름
	1. 타 서비스에서 최저가 서비스 호출 (Keyword)
	2. keyword:{prodGrpId,,,}을 조회
	3. Redis에 없다면 Ealasticsearch에서 조회하여 prodGrpId 조회 (상위 10건) 후 Redis에 저장
	4. prodGrpId:[{prodId,price},{}] 데이터 조회
	5. 없다면 Elasticsearch에서 ProdId 별 가격 조회 후 반환
	6. 반환 후 Redis에 ProdId:Price 정보 저장